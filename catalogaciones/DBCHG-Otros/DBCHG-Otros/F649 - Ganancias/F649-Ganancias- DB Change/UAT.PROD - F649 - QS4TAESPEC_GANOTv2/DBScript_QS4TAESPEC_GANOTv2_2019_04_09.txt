	ALTER SESSION SET CURRENT_SCHEMA = "BASEARG";


------------------------------------------------------------------------------------------------------------------------  
  CREATE TABLE "BASEARG"."A_QS4TAESPEC_GANOT" 
   (	"QS_A_FECHA" DATE, 
	"QS_A_USUARIO" CHAR(30 BYTE), 
	"QS_A_HOST" CHAR(50 BYTE), 
	"QS_A_ACCION" CHAR(2 BYTE), 
	"ANIOMES_ESP" DATE NOT NULL ENABLE, 
	"TREG_ESP" CHAR(15 BYTE) NOT NULL ENABLE, 
	"COD_MF" NUMBER(10,0) NOT NULL ENABLE, 
	"DIFE_ESP" NUMBER(10,0), 
	"MONTO_ESP" NUMBER(24,8) NOT NULL ENABLE, 
	"COD_LQ" NUMBER(10,0), 
	"EMPLID" VARCHAR2(11 BYTE), 
	"EMPL_RCDN" NUMBER(38,0), 
	"OBSERVACION" VARCHAR2(20 BYTE), 
	"TDES_ESP" CHAR(1 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 262144 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "QSRRHH" ;

  
  
  CREATE TABLE "BASEARG"."QS4TAESPEC_GANOT" 
   (	"ANIOMES_ESP" DATE NOT NULL ENABLE, 
	"TREG_ESP" CHAR(15 BYTE) NOT NULL ENABLE, 
	"COD_MF" NUMBER(10,0) NOT NULL ENABLE, 
	"DIFE_ESP" NUMBER(10,0), 
	"MONTO_ESP" NUMBER(24,8) NOT NULL ENABLE, 
	"COD_LQ" NUMBER(10,0), 
	"EMPLID" VARCHAR2(11 BYTE), 
	"EMPL_RCDN" NUMBER(38,0), 
	"OBSERVACION" VARCHAR2(20 BYTE), 
	"TDES_ESP" CHAR(1 BYTE) DEFAULT 'm', 
	"LAST_USR" CHAR(30 BYTE), 
	"LAST_HOST" CHAR(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 52428800 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "QSRRHH" ;

  CREATE UNIQUE INDEX "BASEARG"."IND4TAG1" ON "BASEARG"."QS4TAESPEC_GANOT" ("COD_MF", "ANIOMES_ESP", "TREG_ESP", "DIFE_ESP") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 44826624 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "QSRRHH" ;

  CREATE INDEX "BASEARG"."IX_QS4TAG1" ON "BASEARG"."QS4TAESPEC_GANOT" ("COD_MF", "TREG_ESP", "ANIOMES_ESP") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 39583744 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "QSRRHH" ;

  CREATE INDEX "BASEARG"."IX_QS4TAG2" ON "BASEARG"."QS4TAESPEC_GANOT" ("COD_MF", "ANIOMES_ESP") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 30932992 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "QSRRHH" ;

  CREATE UNIQUE INDEX "BASEARG"."IX_QSESPG1" ON "BASEARG"."QS4TAESPEC_GANOT" ("DIFE_ESP") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 20447232 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "QSRRHH" ;

  CREATE UNIQUE INDEX "BASEARG"."IX_QSESPG5" ON "BASEARG"."QS4TAESPEC_GANOT" ("ANIOMES_ESP", "TREG_ESP", "COD_MF", "DIFE_ESP", "COD_LQ") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 48496640 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "QSRRHH" ;

  CREATE INDEX "BASEARG"."I_4TAESPG" ON "BASEARG"."QS4TAESPEC_GANOT" ("ANIOMES_ESP", "TREG_ESP", "COD_MF") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 37486592 NEXT 262144 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "QSRRHH" ;

  CREATE OR REPLACE TRIGGER "BASEARG"."INS_EMPL_QS4TAESPEC_GANOT" 
BEFORE INSERT OR UPDATE
OF "ANIOMES_ESP", "TREG_ESP", "COD_MF", "DIFE_ESP", "MONTO_ESP", "COD_LQ", "EMPLID", "EMPL_RCDN", "OBSERVACION", "TDES_ESP"
ON "BASEARG"."QS4TAESPEC_GANOT"
REFERENCING OLD AS OLD NEW AS NEW FOR EACH ROW
BEGIN
:NEW.EMPLID := TO_CHAR(:NEW.COD_MF - (100000000 * (SUBSTR(TO_CHAR(:NEW.COD_MF,'FM00000000000'),3,1))),'FM00000000000');
:NEW.EMPL_RCDN := SUBSTR(TO_CHAR(:NEW.COD_MF,'FM00000000000'),3,1);
:NEW.TDES_ESP := lower(:NEW.TDES_ESP);
END;

/
ALTER TRIGGER "BASEARG"."INS_EMPL_QS4TAESPEC_GANOT" ENABLE;

  CREATE OR REPLACE TRIGGER "BASEARG"."QS4TAESPEC_GANOT_I" AFTER INSERT ON BASEARG.QS4TAESPEC_GANOT REFERENCING NEW AS NEW FOR EACH ROW
DECLARE 
BEGIN 
IF :NEW.LAST_USR IS NOT NULL THEN
INSERT INTO BASEARG.A_QS4TAESPEC_GANOT
    (QS_A_FECHA, QS_A_USUARIO, QS_A_HOST, QS_A_ACCION,    ANIOMES_ESP , TREG_ESP , COD_MF , DIFE_ESP , MONTO_ESP , COD_LQ , EMPLID , EMPL_RCDN , OBSERVACION , TDES_ESP)
VALUES ( SYSDATE, :NEW.LAST_USR, :NEW.LAST_HOST, 'I',  :NEW.ANIOMES_ESP , :NEW.TREG_ESP , :NEW.COD_MF , :NEW.DIFE_ESP , :NEW.MONTO_ESP , :NEW.COD_LQ , :NEW.EMPLID , :NEW.EMPL_RCDN , :NEW.OBSERVACION , :NEW.TDES_ESP) ;
END IF;
END ; 
/
ALTER TRIGGER "BASEARG"."QS4TAESPEC_GANOT_I" ENABLE;



CREATE OR REPLACE PUBLIC SYNONYM "QS4TAESPEC_GANOT" FOR "BASEARG"."QS4TAESPEC_GANOT";
GRANT INSERT ON QS4TAESPEC_GANOT TO BXUSER;
GRANT ALTER  ON QS4TAESPEC_GANOT TO BXUSER;
GRANT DELETE ON QS4TAESPEC_GANOT TO BXUSER;
GRANT SELECT ON QS4TAESPEC_GANOT TO BXUSER;
GRANT UPDATE ON QS4TAESPEC_GANOT TO BXUSER;

CREATE OR REPLACE PUBLIC SYNONYM "A_QS4TAESPEC_GANOT" FOR "BASEARG"."A_QS4TAESPEC_GANOT";
GRANT INSERT ON A_QS4TAESPEC_GANOT TO BXUSER;
GRANT ALTER  ON A_QS4TAESPEC_GANOT TO BXUSER;
GRANT DELETE ON A_QS4TAESPEC_GANOT TO BXUSER;
GRANT SELECT ON A_QS4TAESPEC_GANOT TO BXUSER;
GRANT UPDATE ON A_QS4TAESPEC_GANOT TO BXUSER;
/